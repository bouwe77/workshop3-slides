export { default as theme } from "./theme";
import { Image, Appear } from "@mdx-deck/components";
import MyConfetti from "./components/MyConfetti"


# &lt;Welcome /&gt;

---

# TO DO TODAY

---

# INTRODUCING...

my twitter clone <a href="https://9ozk2orqyo.codesandbox.io" target="_blank">nitwit</a> :)

---

# REACT

<ul>
  <li>UI components<br/><br/></li>
  <Appear>
    <li>Library<br/><br/></li>
    <li>Open source<br/><br/></li>
    <li>Functional & declarative programming</li>
  </Appear>
</ul>

---

# COMPONENTS

<ul>
  <li>Pieces of UI (small!)<br/><br/></li>
  <Appear>
    <li>Example: <a href="https://twitter.com" target="_blank">twitter</a><br/><br/></li>
    <li>Parent-child relationship<br/><br/></li>
    <li>Reuse<br/><br/></li>
    <li>Single responsibility</li>
  </Appear>
</ul>

---

# COMPONENTS

<ul>
  <li>Plain javascript functions<br/><br/></li>
  <Appear>
    <li>Always render (return) a piece of UI<br/><br/></li>
    <li>Mixing technologies: JSX<br/><br/></li>
    <li>Keep them small and simple!</li>
  </Appear>
</ul>

---

# EXAMPLE

Hello World component

---

# EXAMPLE

Multiple components

---

# EXERCISE

1. Create your own app:
   - In the browser with [CodeSandbox][]
   - or: locally using **create-react-app**


2. Create the following component hierarchy:

- App
  - Header
  - Timeline
    - Post (1..n)

[codesandbox]: https://codesandbox.io

https://bouwe.io

---

<img src={require("file-loader!./images/pizza.jpg")}/>

# EFFE WACHTE...

PIZZA!!!

---

# EXERCISE


1. Create your own app:
   - In the browser with [CodeSandbox][]
   - or: locally using **create-react-app**


2. Create the following component hierarchy:

- App
  - Header
  - Timeline
    - Post (1..n)

[codesandbox]: https://codesandbox.io

https://bouwe.io

---

# PROPS

<ul>
  <li>Passing data between components<br/><br/></li>
  <li>From parent to child<br/><br/></li>
  <Appear>
    <li>Parent passes one or more values to child<br/><br/></li>
    <li>Child receives all values as one props object<br/><br/></li>
  </Appear>
</ul>

---

# EXAMPLE

Props

---

# EXERCISE (1/2)

<ol>
  <li>In the <u>App</u> component, define an <b>array of post objects</b><br/><br/></li>

  <li>Add some random post objects to the array.<br/>Each post object contains a <b>username</b> and <b>content</b>.<br/><br/></li>
 
  <li>Pass the array of post objects as props<br/>from <u>App</u> to <u>Timeline</u></li>
</ol>

```jsx
const posts = [ 
  { username: 'Bouwe', content: 'Hello World' }, 
  { username: 'Bouwe', content: 'My second tweet :)' } ]
```

---

# EXERCISE (2/2)

<ol>
<li>In the <u>Timeline</u> component, render a <u>Post</u> component for each post<br/>in the posts array using the array.map() function<br/><br/></li>

<li>Pass each post object as props to the <u>Post</u> component<br/><br/></li>

<li>In <u>Post</u>, display the user and content of the post object from props</li>

</ol>

```
props.posts.map(post => <Post post={post} />)
```

---

# STATE

<ul>
<li>Makes your components dynamic<br/><br/></li>
<li>Data to display, also when it changes<br/><br/></li>
  <Appear>
    <li>Multiple components can have their own part of state<br/><br/></li>
    <li>Which component has which part of the state?<br/><br/></li>
    <li>Initialize state with React's <b>useState</b> hook<br/><br/></li>
  </Appear>
</ul>

---

# EXAMPLE

- Set initial state with useState


- Pass state as props to a child component

---

# EXERCISE

<ol>
  <li>Initialize a new posts array by calling useState<br/><br/></li>

  <li>Pass the hard-coded posts array we made earlier <br/>as initial state to useState<br/> <i>(note we'll get rid of this initial state soon)</i><br/><br/></li>

  <li>Need a hint...?</li>
</ol>

<Appear>
  <code>
    const initialPosts = [ yada yada ]
    <br/>
    const [posts, setPosts] = useState(initialPosts)
  </code>
</Appear>

---

# CHANGE STATE

<ul>
  <li>State change causes a re-render of the<br/>component and all its children<br/><br/></li>
  <Appear>
    <li>State is local and private within component<br/><br/></li>
    <li>One-way data binding<br/><br/></li>
    <li>
      Implement events to change state:
      <ul>
      <li>User</li>
      <li>Network</li>
      <li>Time</li>
      </ul>
    </li>
  </Appear>
</ul>

---

# PROPS & STATE

- Props is data **between** components


- State is data **within** a component

---

# CHANGE STATE

- Use the **set function** that was returned by useState


- The set function **replaces** the supplied value into state


- React may apply state changes in batches to prevent too many unnecessary re-renders

---

# EXAMPLE

Changing state with the set function

- Single value


- Array of objects

---

# EXERCISE

<ol>
<li>Add an addPost(content) function to the <u>App</u> component.<br/><br/></li>

<li>Create a post object containing the provided content<br/>and your first name as hard-coded username.<br/><br/></li>

<li>Call <b>setPosts</b> and provide an array containing<br/> both the new post object and the current posts.<br/><br/></li>

<li>For testing purposes, add a dummy button with an onClick<br/>to call the addPost function:</li>
</ol>

```jsx
<button onClick={() => addPost("Hello World")}>Dummy</button>
```

---

# OK...

What do we have now?

---

# FORMS

<ul>
  <li>
    <b>Uncontrolled</b> inputs
    <ul>
      <li>The "Old Skool way"</li>
      <li>Easier</li>
    </ul>
    <br/><br/>
  </li>
  <Appear>
    <li>
      <b>Controlled</b> inputs:
      <ul>
        <li>The "React way": events and state</li>
        <li>Better UX: interdependent fields, validation, local storage, etc.</li>
      </ul>
    </li>
  </Appear>
</ul>

---

# EXAMPLE

Forms

- Uncontrolled inputs


- Controlled inputs

---

# EXERCISE (1/2)

<ol>
<li>Create the <b>Compose</b> component and render it<br/> inside the <u>App</u> component<br/><br/></li>

<li>In <u>Compose</u>, add a form with a textarea<br/><br/></li>

<li>Introduce a content variable with useState*<br/><br/></li>

<li>In the textarea, call setContent via the onChange event handler*<br/><br/></li>

</ol>

<i>(* replace steps 3 and 4 by uncontrolled inputs if you prefer)</i>

---

# EXERCISE (2/2)

In the <u>App</u> component:
<ol>
<li>Pass the addPost function as props to <u>Compose</u><br/><br/></li>
<li>Remove the dummy button</li>
</ol>

In the <u>Compose</u> component:
<ol>
<li>Add an onSubmit event handler that calls <br/>the addPost function from props and passes the content<br/><br/></li>
<li>Clear the textarea value after submitting</li>
</ol>

---

# HURRAY!!!

<MyConfetti />

Our timeline functionality is DONE!

However, it’s all local state… :(

---

# APIS AND STATE

- You’ll need an HTTP library


- Keeping state in sync with api


- This is a side effect: useEffect hook

---

# EXAMPLE

- API calls


- Sync state


- useEffect hook (DANGER!)

---

# NITWIT API

https://nitwit-api.azurewebsites.net

---

# EXERCISE

<ol>
  <li>Retrieve timeline:<br/> HTTP GET on /users/<u>:userId</u>/timeline <br/>via the useEffect hook
  <br/><br/><b>Please don't forget the 2nd argument for useEffect! ;)</b><br/><br/></li>
  <li>Save post:<br/> HTTP POST on /users/<u>:userId</u>/posts <br/>in the addPost function<br/><br/></li>
  <li>Note: the <u>:userId</u> is your <b>first name</b></li>
</ol>

---

# GOOD JOB!!!

<MyConfetti />

You finished the workshop!

But maybe we have time for the BONUS exercise?


---


# BONUS EXERCISE

Create components that allow for <br/>**following and unfollowing** other users...

Possible solution:

1. Show all users

2. Indicate per user whether or not you are following him/her

3. Add toggle button per user

4. Toggling the button calls API to follow or unfollow the user

5. Check the API documentation: https://nitwit-api.azurewebsites.net

---

# RECAP / QUIZ

<ul>
  <Appear>
    <li>Components</li>
    <li>JSX</li>
    <li>Props</li>
    <li>State</li>
    <li>Hooks</li>
    <li>Events</li>
  </Appear>
</ul>

---

# WHAT'S NEXT?

- Type safety:

  _prop-types and/or TypeScript_


- Libraries/technologies:

  _Formik, React router, GraphQL, etc._


- Patterns to prevent "prop drilling":

  _props.children, useContext, etc._


- People:

  _Dan Abramov, Kent C. Dodds, Ryan Florence_

---

# &lt;Thanks /&gt;
